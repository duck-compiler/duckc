use std::sync::{Channel};

fn main() {
    const chan = Channel::new<()>();

    let sending_task = async (fn(){
        std::io::println("Sleeping for 1s and then sending a ()");
        std::task::sleep(std::time::Duration::seconds(1));
        chan.send(());
        std::io::println("Sent");
    })();

    std::io::println("Waiting for ()");
    chan.recv_block();
    sending_task.recv_block();
    std::io::println("Got ()");
}
