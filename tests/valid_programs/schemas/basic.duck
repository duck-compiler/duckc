use go "encoding/json";

fn assert(expr: Bool, msg: String) {
    if (!expr) {
        std::error::panic(msg);
    }
}

schema Yoo = {
    hello: String
}

fn main() {
    let str = "{\"hello\": \"Yoo\"}";
    let x = Yoo().from_json(str);
    match x {
        { hello: String } @yoo => assert(yoo.hello == "Yoo", "hello is not Yoo"),
        .err => assert(false, "error from json parse"),
    }
}
