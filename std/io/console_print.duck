use go "fmt";

/// prints the string to the stdout
fn print(str: String) {
    go {
        fmt.Print(str);
    }
}

/// prints the string to the stdout with a newline
fn println(str: String) {
    go {
        fmt.Println(str);
    }
}

/// reads a line from the stdin
fn readln(prompt: String | ..) -> String | .err {
    match prompt {
        String @str => go {
            fmt.Print(str);
        },
        else => ()
    };

    go {
        reader := bufio.NewReader(os.Stdin)
        text, err := reader.ReadString('\n')
        if err != nil {
            return &Tag__err { }
        }

        return &text
    } as !
}

fn debug(x: {}) {
    go {
        fmt.Println(x)
    }
}
