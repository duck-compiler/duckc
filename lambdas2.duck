struct S = {
} impl {
    fn imm_fun() {}

    fn needs_mut() {
        std::io::println("HELLO I AM MUT FN");
    }
};

fn inter(d: &{ needs_mut: fn() }) {
    d.needs_mut();
}

fn main() {
    let a = 5;
    a = 10;

    let s = S {};
    inter(&{needs_mut: fn() {
        s.needs_mut();
    }});

    (mut fn () {
        (mut fn() { a = 20; (mut fn() { a = 123; })();})();
        s.imm_fun();
//        s.needs_mut();
    })();
    std::io::println(std::string::from_int(a));
}
